
<div class="row">
    <div class="col-md-12">
        <h1 class="txt-center mt-5">Pokemones</h1>
    </div>
</div>


<div class="row">
    <div class="col-md-9">
        <input type="text"
                class="form-control mb-2"
                placeholder="Buscar el PokÃ©mon deseado"
                #bindText
                (keyup)="searchPokemon( bindText.value )"/>
    </div>
    <div class="col-md-3">
        
        <button class="btn btn-primary mr-2"
                (click)="back()">
            Regresar
        </button>
           |  |  
        <button class="btn btn-primary ml-2"
                (click)="next()"
                [disabled]="(pokemons | filtro:page:search).length === 0">
            Siguiente
        </button>
    </div>
</div>

<br>

<div class="row">
    <div class="col-md-8">

        <table class="table">
            <thead>
                <tr>
                    <th [ngStyle]="{ 'width': '100px' }">#</th>
                    <th [ngStyle]="{ 'width': '150px' }">Nombre</th>
                    <th>Opciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of pokemons | filtro:page:search"
                    [ngStyle]="{ 'height': '100px'}">
                    <td>{{ item.id }}</td>
                    <td>{{ item.name }}</td>
                    <td>
                        <button class="btn btn-primary mr-2"
                                (click)="showPokemon(item)">
                            Ver Detalle
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-4">
        <ng-container class="mt-6" *ngIf="pokemon">
            <h1 class="txt-center mt-5">Detalle del Pokemon</h1>
            <div class="card" style="width: 30rem; backgroud-color: #FFBAAB">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img [src]="pokemon.sprites.front_default" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img [src]="pokemon.sprites.front_shiny" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img [src]="pokemon.sprites.back_default" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img [src]="pokemon.sprites.back_shiny" class="d-block w-100" alt="...">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>


                <div class="card-body">
                    <h2 class="card-title text-center">No. {{ pokemon.order }} - {{ pokemon.name }}  - Exp ({{ pokemon.base_experience }})</h2>

                    <div class="row">
                        <div class="col-md-12">
                            <h3 class="text-center mt-5">Abilities</h3>
                        </div>
                        <div *ngFor="let ability of pokemon.abilities" class="col-md-6">
                            {{ability.ability.name}}
                        </div>
                    </div>

                    <div class="row margin-top-2">
                        <div class="col-md-12">
                            <h3 class="text-center mt-5">Cries</h3>
                        </div>

                        <ul class="list-unstyled">
                            <li class="media">
                                <audio controls>
                                    <source [src]="pokemon.cries.latest" type="audio/ogg">
                                  </audio>
                            </li>

                            <li class="media">
                                <audio controls>
                                    <source [src]="pokemon.cries.legacy" type="audio/ogg">
                                  </audio>
                            </li>
                          </ul>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <h3 class="text-center mt-5">Stats</h3>
                        </div>
                        <div *ngFor="let stat of pokemon.stats" class="col-md-6">
                            base stat: {{stat.base_stat}} - effort: {{stat.effort}}
                        </div>
                    </div>
                </div>
              </div>
        </ng-container>
    </div>
</div>
